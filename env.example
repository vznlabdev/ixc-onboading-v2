# ====================================
# IncoXchange Environment Configuration
# ====================================
# Copy this file to .env.local and update with your values

# ====================================
# Application Settings
# ====================================
# Node environment (development, staging, production)
NODE_ENV=development

# Application URL (no trailing slash)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Debug mode (enables verbose logging)
NEXT_PUBLIC_DEBUG=false

# ====================================
# API Configuration
# ====================================
# Backend API URL (no trailing slash)
NEXT_PUBLIC_API_URL=http://localhost:3001

# WebSocket URL for real-time updates
NEXT_PUBLIC_WS_URL=ws://localhost:3001

# API Version
NEXT_PUBLIC_API_VERSION=v1

# ====================================
# Authentication
# ====================================
# JWT Secret (minimum 32 characters)
JWT_SECRET=your-super-secret-jwt-key-min-32-characters

# Session Secret (minimum 32 characters)
SESSION_SECRET=your-super-secret-session-key-min-32-chars

# Magic Link Expiry (in seconds, default: 900 = 15 minutes)
MAGIC_LINK_EXPIRY=900

# Refresh Token Expiry (in days)
REFRESH_TOKEN_EXPIRY=30

# ====================================
# Database Configuration
# ====================================
# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@localhost:5432/incoxchange

# Database pooling
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ====================================
# Redis Configuration (for sessions/cache)
# ====================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ====================================
# Email Service Configuration
# ====================================
# Email provider (sendgrid, ses, smtp)
EMAIL_PROVIDER=sendgrid

# SendGrid Configuration
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxx
SENDGRID_FROM_EMAIL=noreply@incoxchange.com
SENDGRID_FROM_NAME=IncoXchange

# AWS SES Configuration (alternative)
# AWS_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxx
# AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# AWS_REGION=us-east-1
# SES_FROM_EMAIL=noreply@incoxchange.com

# SMTP Configuration (alternative)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# ====================================
# File Storage Configuration
# ====================================
# Storage provider (local, s3, gcs)
STORAGE_PROVIDER=local

# Local storage path (for development)
STORAGE_LOCAL_PATH=./uploads

# AWS S3 Configuration
# S3_BUCKET=incoxchange-documents
# S3_REGION=us-east-1
# S3_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxx
# S3_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# S3_ENDPOINT=https://s3.amazonaws.com

# Google Cloud Storage Configuration
# GCS_BUCKET=incoxchange-documents
# GCS_PROJECT_ID=incoxchange-prod
# GCS_KEY_FILE=./gcs-key.json

# File upload limits
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,png,jpg,jpeg,doc,docx

# ====================================
# Plaid Integration (Bank Connections)
# ====================================
# Plaid environment (sandbox, development, production)
PLAID_ENV=sandbox

# Plaid credentials
PLAID_CLIENT_ID=xxxxxxxxxxxxxxxxxxxx
PLAID_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Plaid products to use
PLAID_PRODUCTS=transactions,accounts,identity

# Plaid webhook URL
PLAID_WEBHOOK_URL=https://api.incoxchange.com/webhooks/plaid

# ====================================
# Document Processing
# ====================================
# OCR Service (textract, google-vision, tesseract)
OCR_PROVIDER=textract

# AWS Textract Configuration
# TEXTRACT_REGION=us-east-1
# TEXTRACT_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxx
# TEXTRACT_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ====================================
# Analytics & Monitoring
# ====================================
# Google Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# Sentry Error Tracking
NEXT_PUBLIC_SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@sentry.io/xxxxxxx
SENTRY_ORG=incoxchange
SENTRY_PROJECT=web-app
SENTRY_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# DataDog APM
# DATADOG_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# DATADOG_APP_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# DATADOG_SITE=datadoghq.com

# ====================================
# Security Configuration
# ====================================
# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://incoxchange.com

# Rate limiting
RATE_LIMIT_WINDOW=60000  # 1 minute in milliseconds
RATE_LIMIT_MAX_REQUESTS=60

# CAPTCHA (Google reCAPTCHA v3)
NEXT_PUBLIC_RECAPTCHA_SITE_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
RECAPTCHA_SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Content Security Policy
CSP_REPORT_URI=https://api.incoxchange.com/csp-report

# ====================================
# Admin Configuration
# ====================================
# Default admin credentials (change in production!)
DEFAULT_ADMIN_EMAIL=admin@incoxchange.com
DEFAULT_ADMIN_PASSWORD=ChangeThisPassword123!

# Admin session timeout (in minutes)
ADMIN_SESSION_TIMEOUT=120

# ====================================
# Feature Flags
# ====================================
# Enable/disable features
FEATURE_PLAID_INTEGRATION=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_DOCUMENT_SCANNING=false
FEATURE_REAL_TIME_UPDATES=true
FEATURE_EXPORT_REPORTS=true
FEATURE_BULK_ACTIONS=true
FEATURE_AUDIT_LOGS=true
FEATURE_COMMENTS=true

# ====================================
# Development/Demo Configuration
# ====================================
# Demo mode (shows demo banner and sample data)
NEXT_PUBLIC_DEMO_MODE=false

# Demo data auto-expiry (in hours)
DEMO_DATA_EXPIRY=24

# Bypass authentication in development
DEV_BYPASS_AUTH=false

# Mock external services
MOCK_EMAIL_SERVICE=true
MOCK_PLAID_SERVICE=true
MOCK_OCR_SERVICE=true

# ====================================
# Logging Configuration
# ====================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log format (json, pretty)
LOG_FORMAT=pretty

# Log file path (for production)
LOG_FILE_PATH=./logs/app.log

# ====================================
# Performance Configuration
# ====================================
# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=false

# Cache TTL (in seconds)
CACHE_TTL=3600

# Database query timeout (in milliseconds)
DB_QUERY_TIMEOUT=5000

# API request timeout (in milliseconds)
API_TIMEOUT=30000

# ====================================
# Webhook Configuration
# ====================================
# Webhook signing secret
WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Webhook retry attempts
WEBHOOK_RETRY_ATTEMPTS=3

# Webhook timeout (in milliseconds)
WEBHOOK_TIMEOUT=10000

# ====================================
# Third-Party Services
# ====================================
# Stripe (for payments, if needed)
# STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Twilio (for SMS, if needed)
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_PHONE_NUMBER=+1234567890

# ====================================
# Miscellaneous
# ====================================
# Timezone for the application
TZ=America/New_York

# Locale
DEFAULT_LOCALE=en-US

# Currency
DEFAULT_CURRENCY=USD

# Date format
DATE_FORMAT=MM/DD/YYYY

# ====================================
# End of Environment Configuration
# ====================================
